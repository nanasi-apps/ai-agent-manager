# Agent Manager - æ±ºå®šäº‹é …ã¾ã¨ã‚

*æœ€çµ‚æ›´æ–°: 2025-12-29*

---

## ğŸ“‹ ç›®æ¬¡
1. [ç¢ºå®šäº‹é …](#ç¢ºå®šäº‹é …)
2. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
3. [ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå€™è£œï¼ˆANSIå‡¦ç†ï¼‰](#ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå€™è£œansiå‡¦ç†)
4. [ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå€™è£œï¼ˆä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ãƒ»é™çš„è§£æï¼‰](#ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå€™è£œä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•é™çš„è§£æ)
5. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼šElectron + ãƒ–ãƒ©ã‚¦ã‚¶å…±æœ‰](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£electron--ãƒ–ãƒ©ã‚¦ã‚¶å…±æœ‰)
6. [ğŸ†• MCPãƒ›ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#mcpãƒ›ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
7. [ã‚¹ã‚³ãƒ¼ãƒ—ã‚¢ã‚¦ãƒˆï¼ˆMVPã§ã¯é™¤å¤–ï¼‰](#ã‚¹ã‚³ãƒ¼ãƒ—ã‚¢ã‚¦ãƒˆmvpã§ã¯é™¤å¤–)
8. [é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º](#é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º)
9. [å®Ÿè£…é€²æ—](#å®Ÿè£…é€²æ—)

---

## ç¢ºå®šäº‹é …

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ©Ÿèƒ½
| é …ç›® | æ±ºå®šå†…å®¹ |
|------|----------|
| **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåˆ¶å¾¡** | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰èµ·å‹•ãƒ»åœæ­¢å¯èƒ½ã€WebUIä¸Šã‹ã‚‰ã‚‚æ“ä½œå¯èƒ½ |
| **ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–** | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå˜ä½ã§ç›£è¦–ï¼ˆãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼å«ã‚€ï¼‰ |
| **Intent ãƒ­ãƒƒã‚¯** | æ¥½è¦³çš„ãƒ­ãƒƒã‚¯ã€ãƒ•ã‚¡ã‚¤ãƒ«å˜ä½ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ1åˆ† |

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
| é …ç›® | æ±ºå®šå†…å®¹ |
|------|----------|
| **ä½œæˆæ™‚å¿…é ˆé …ç›®** | åå‰ + Root Path å¿…é ˆ |
| **Root Path ã®ç”¨é€”** | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèµ·å‹•æ™‚ã® cwdã€Project Settings ã® rootPath ã‚’å„ªå…ˆ |
| **ä¼šè©±é–‹å§‹æ¡ä»¶** | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãŒå¿…é ˆï¼ˆè‡ªå‹•ä½œæˆã—ãªã„ï¼‰ |

### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”»é¢
| é …ç›® | æ±ºå®šå†…å®¹ |
|------|----------|
| **stdio ãƒ‘ãƒ¼ã‚¹** | å…¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¯¾å¿œï¼ˆJSON Linesã€ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã€ANSIï¼‰ |
| **stderr** | è¡¨ç¤ºå¯¾è±¡ |
| **ãƒ¢ãƒ‡ãƒ«ãƒ›ãƒƒãƒˆã‚¹ãƒ¯ãƒƒãƒ—** | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆæ™‚ã«ä¼šè©±å±¥æ­´ã‚’è¦ç´„ã—ã¦ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦å¼•ãç¶™ãï¼ˆAgent Handoffï¼‰ |
| **CLIãƒ„ãƒ¼ãƒ«èªè¨¼** | ãƒ¦ãƒ¼ã‚¶ãƒ¼å´ã§äº‹å‰ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ã‚’å‰æã€stdioã§åˆ¶å¾¡ |
| **APIã‚­ãƒ¼ç®¡ç†** | æš—å·åŒ–ã—ã¦ä¿å­˜ |

### Git Worktree ç®¡ç†
| é …ç›® | æ±ºå®šå†…å®¹ |
|------|----------|
| **ä½œæˆã‚¿ã‚¤ãƒŸãƒ³ã‚°** | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèµ·å‹•æ™‚ |
| **æœ€å¤§æ•°** | 5å€‹/ãƒªãƒã‚¸ãƒˆãƒª |
| **è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—** | æ¤œè¨å¯¾è±¡ï¼ˆè¦å®Ÿè£…ï¼‰ |
| **ã‚³ãƒŸãƒƒãƒˆç²’åº¦** | 1ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ |
| **ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸** | è‡ªå‹•ç”Ÿæˆ |
| **squash** | ã—ãªã„ |
| **è‡ªå‹•Rebase** | å®Ÿè¡Œã™ã‚‹ |
| **ãƒãƒ¼ã‚¸å„ªå…ˆé †ä½** | å¤‰æ›´é‡ãŒå¤šã„æ–¹ã‚’å„ªå…ˆ |

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†
| é …ç›® | æ±ºå®šå†…å®¹ |
|------|----------|
| **å¯¾å¿œPM** | pnpm ã®ã¿ |
| **node_moduleså…±æœ‰** | åŸºæœ¬å…±æœ‰ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«ã‚ªãƒ—ãƒˆã‚¢ã‚¦ãƒˆå¯èƒ½ |

### ãƒ«ãƒ¼ãƒ« & MCPè¨­å®š
| é …ç›® | æ±ºå®šå†…å®¹ |
|------|----------|
| **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†** | Git ãƒ™ãƒ¼ã‚¹ |
| **ãƒ«ãƒ¼ãƒ«ã‚»ãƒƒãƒˆ** | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã”ã¨ã«ç•°ãªã‚‹ãƒ«ãƒ¼ãƒ«ã‚»ãƒƒãƒˆé©ç”¨å¯èƒ½ |
| **å³æ™‚åæ˜ ** | å®Ÿè¡Œä¸­ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã¯å³æ™‚åæ˜ ã•ã‚Œãªã„ |
| **åŒæœŸãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰** | Workers WebAPIçµŒç”±ï¼ˆè‡ªå‰æ§‹ç¯‰ï¼‰ |
| **ãƒ„ãƒ¼ãƒ«æ¨©é™ç®¡ç†** | ã‚ã‚Š |

### é€šçŸ¥
| é …ç›® | æ±ºå®šå†…å®¹ |
|------|----------|
| **ãƒãƒ£ãƒãƒ«** | Discord, Slack å¯¾å¿œ |
| **ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ** | ãªã— |
| **æ„æ€æ±ºå®šè€…** | èª°ã§ã‚‚OK |

### ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£
| é …ç›® | æ±ºå®šå†…å®¹ |
|------|----------|
| **æœ€å¤§ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ•°** | 20å€‹ï¼ˆ5å€‹/ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆÃ—4ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ³å®šï¼‰ã€å¾Œã‹ã‚‰æ‹¡å¼µ |

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ç¢ºå®š
| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ |
|----------|------|
| **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯** | Vue.js 3 + Vite |
| **ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—** | Electronï¼ˆã‚¼ãƒ­ã‹ã‚‰æ§‹ç¯‰ï¼‰ |
| **å¯¾è±¡OS** | Windows, macOS, Linux |
| **è¨€èª** | TypeScript |
| **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼** | pnpm |
| **UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** | Shadcn Vue |
| **IPCé€šä¿¡** | oRPC Electron Adapter |
| **Linting/Formatting** | Biome |
| **DB**ï¼ˆå°†æ¥ï¼‰ | Cloudflare D1 |
| **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**ï¼ˆå°†æ¥ï¼‰ | Cloudflare Workers |

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆç¾åœ¨ï¼‰
```
agent-manager/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared/          # å…±æœ‰å‹å®šç¾©ãƒ»oRPCãƒ«ãƒ¼ã‚¿ãƒ¼
â”‚   â”œâ”€â”€ electron/        # Electron ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹
â”‚   â””â”€â”€ web/             # Vue.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/
â”‚       â”‚   â”‚   â”œâ”€â”€ ui/          # Shadcn UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”‚   â”‚   â”œâ”€â”€ AppSidebar.vue
â”‚       â”‚   â”‚   â””â”€â”€ AppHeader.vue
â”‚       â”‚   â”œâ”€â”€ pages/           # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”‚   â”‚   â”œâ”€â”€ index.vue    # Dashboard
â”‚       â”‚   â”‚   â”œâ”€â”€ inbox.vue
â”‚       â”‚   â”‚   â”œâ”€â”€ agents.vue
â”‚       â”‚   â”‚   â”œâ”€â”€ settings.vue
â”‚       â”‚   â”‚   â”œâ”€â”€ projects/
â”‚       â”‚   â”‚   â””â”€â”€ conversions/
â”‚       â”‚   â”œâ”€â”€ layouts/
â”‚       â”‚   â”œâ”€â”€ router/
â”‚       â”‚   â”œâ”€â”€ services/
â”‚       â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ ...
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ biome.json
â””â”€â”€ package.json
```

---

## ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå€™è£œï¼ˆANSIå‡¦ç†ï¼‰

### CLIãƒ„ãƒ¼ãƒ«ã®stdioå‡ºåŠ›ã‚’ãƒ‘ãƒ¼ã‚¹â†’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | èª¬æ˜ | ãƒ¡ãƒªãƒƒãƒˆ | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ |
|------------|------|----------|------------|
| **ansi_up** | ANSIã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒ‰ â†’ HTMLå¤‰æ› | ãƒ–ãƒ©ã‚¦ã‚¶/Node.jsä¸¡å¯¾å¿œã€ç©æ¥µçš„ã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ | ãƒ‘ãƒ¼ã‚¹æ©Ÿèƒ½ã®ã¿ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸å¯ |
| **@ansi-tools/parser** | ANSI ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ãƒ»ãƒ‘ãƒ¼ã‚µãƒ¼ | ã‚¼ãƒ­ä¾å­˜ã€å¤šç¨®ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚³ãƒ¼ãƒ‰å¯¾å¿œã€æœ€æ–° | HTMLã¸ã®å¤‰æ›ã¯è‡ªå‰å®Ÿè£…å¿…è¦ |
| **ansi-sequence-parser** | ANSIã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã«ãƒ‘ãƒ¼ã‚¹ | ãƒãƒ£ãƒ³ã‚¯å‡¦ç†å¯¾å¿œã€çŠ¶æ…‹ä¿æŒå¯èƒ½ | æ¯”è¼ƒçš„æ–°ã—ãå®Ÿç¸¾å°‘ãªã‚ |
| **terminal.js** | ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ | ã‚«ãƒ¼ã‚½ãƒ«ç§»å‹•ãƒ»ç”»é¢æ›¸ãæ›ãˆã«å¯¾å¿œ | é‡ã„ã€ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯ã®å¯èƒ½æ€§ |
| **xterm.js** | ãƒ•ãƒ«æ©Ÿèƒ½ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ | æœ¬æ ¼çš„ãªã‚¿ãƒ¼ãƒŸãƒŠãƒ«ä½“é¨“ã€VSCodeæ¡ç”¨ | ã‚µã‚¤ã‚ºå¤§ã€è¨­å®šè¤‡é›‘ |

### ğŸ”µ æ¨å¥¨
- **ã‚·ãƒ³ãƒ—ãƒ«è¡¨ç¤º**: `ansi_up`ï¼ˆANSIã‚³ãƒ¼ãƒ‰ â†’ HTMLå¤‰æ›ãŒç°¡å˜ï¼‰
- **é«˜åº¦ãªãƒ‘ãƒ¼ã‚¹**: `@ansi-tools/parser` + è‡ªå‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
- **æœ¬æ ¼ã‚¿ãƒ¼ãƒŸãƒŠãƒ«**: `xterm.js`ï¼ˆVS Codeã¨åŒã˜ä½“é¨“ï¼‰

---

## ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå€™è£œï¼ˆä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ãƒ»é™çš„è§£æï¼‰

### ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆãƒ»ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼å®Ÿè£…ã®ãŸã‚ã®TypeScripté™çš„è§£æãƒ„ãƒ¼ãƒ«

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | èª¬æ˜ | ãƒ¡ãƒªãƒƒãƒˆ | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ |
|------------|------|----------|------------|
| **Dependency Cruiser** | ä¾å­˜é–¢ä¿‚ã®å¯è¦–åŒ–ãƒ»æ¤œè¨¼ãƒ„ãƒ¼ãƒ« | JSON/DOTå‡ºåŠ›ã€å¾ªç’°ä¾å­˜æ¤œå‡ºã€ãƒ«ãƒ¼ãƒ«å®šç¾©å¯èƒ½ | è¨­å®šãŒè¤‡é›‘ã«ãªã‚ŠãŒã¡ |
| **typescript-graph** | TSãƒ•ã‚¡ã‚¤ãƒ«ä¾å­˜é–¢ä¿‚ã®å¯è¦–åŒ–CLIãƒ„ãƒ¼ãƒ« | ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨ˆæ¸¬ï¼ˆMaintainability Indexç­‰ï¼‰ã‚‚å¯èƒ½ | CLIä¸­å¿ƒã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦ã®åˆ©ç”¨ã¯é™å®šçš„ |
| **DecodeDeps** | import/requireæ–‡ã‹ã‚‰ä¾å­˜é–¢ä¿‚ã‚°ãƒ©ãƒ•ç”Ÿæˆ | React/TSå¯¾å¿œã€å¾ªç’°ä¾å­˜æ¤œå‡º | æ¯”è¼ƒçš„æ–°ã—ã„ |
| **TypeScript Compiler API** | TSæ¨™æº–ã®ASTè§£æAPI | æœ€ã‚‚æ­£ç¢ºã€å…¬å¼ã‚µãƒãƒ¼ãƒˆ | å­¦ç¿’ã‚³ã‚¹ãƒˆé«˜ã„ |
| **@typescript-eslint/parser** | TS â†’ ESTree ASTå¤‰æ› | ESLintã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºã€ãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚ã‚Š | é™çš„è§£æã«ã¯è¿½åŠ å®Ÿè£…ãŒå¿…è¦ |
| **madge** | å¾ªç’°ä¾å­˜æ¤œå‡ºãƒ»ä¾å­˜ã‚°ãƒ©ãƒ•ç”Ÿæˆ | ã‚·ãƒ³ãƒ—ãƒ«ã€ã‚°ãƒ©ãƒ•ç”»åƒå‡ºåŠ›å¯èƒ½ | å¤ã‚ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹é »åº¦ä½ä¸‹ |

### ğŸ”µ æ¨å¥¨
- **MVPç”¨**: `Dependency Cruiser`ï¼ˆè¨­å®šã—ã‚„ã™ãã€JSONå‡ºåŠ›ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰çµ±åˆãŒå®¹æ˜“ï¼‰
- **é«˜åº¦ãªåˆ†æ**: TypeScript Compiler APIï¼ˆå°†æ¥çš„ã«è‡ªå‰ã§ASTè§£æï¼‰
- **å¯è¦–åŒ–é‡è¦–**: `madge` ã¾ãŸã¯ `typescript-graph`

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼šElectron + ãƒ–ãƒ©ã‚¦ã‚¶å…±æœ‰

### æ§‹æˆå›³
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      packages/shared/                        â”‚
â”‚  ãƒ»å‹å®šç¾© (TypeScript types)                                 â”‚
â”‚  ãƒ»oRPC ãƒ«ãƒ¼ã‚¿ãƒ¼å®šç¾©                                         â”‚
â”‚  ãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    packages/electron/     â”‚   â”‚      packages/web/        â”‚
â”‚  ãƒ»Electron ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ â”‚   â”‚  ãƒ»Vue.js ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ   â”‚
â”‚  ãƒ»oRPC ã‚µãƒ¼ãƒãƒ¼           â”‚   â”‚  ãƒ»oRPC ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ       â”‚
â”‚  ãƒ»preload ã‚¹ã‚¯ãƒªãƒ—ãƒˆ      â”‚   â”‚  ãƒ»Shadcn UI              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### IPCé€šä¿¡è¨­è¨ˆï¼ˆoRPCä½¿ç”¨ï¼‰
```typescript
// packages/shared/src/router.ts
import { os } from '@orpc/server'

export const router = os.router({
  ping: os.handler(() => 'pong'),
  // è¿½åŠ ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ã“ã“ã«å®šç¾©
})

// packages/electron/src/main.ts
// oRPC Electron Adapter ã§ã‚µãƒ¼ãƒãƒ¼èµ·å‹•

// packages/web/src/services/orpc.ts
// oRPC ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§Rendererâ†’Mainé€šä¿¡
```

---

## MCPãƒ›ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ğŸ¯ ãƒ“ã‚¸ãƒ§ãƒ³

ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’**MCPãƒ›ã‚¹ãƒˆï¼ˆClientï¼‰**ã¨ã—ã¦æ©Ÿèƒ½ã•ã›ã€å„Agent.exeã‚„ãƒ­ãƒ¼ã‚«ãƒ«ãƒ„ãƒ¼ãƒ«ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã€Gitã€DBï¼‰ã‚’MCPã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦æ¥ç¶šã—ã¾ã™ã€‚

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Electron Dashboard (MCP Host)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   Vue Frontend  â”‚â†â†’â”‚   MCP Hub       â”‚â†â†’â”‚  Orchestrator   â”‚             â”‚
â”‚  â”‚  (Single UI)    â”‚  â”‚  (Client/Host)  â”‚  â”‚  (Task Router)  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚ MCP Protocol
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚                           â”‚
         â–¼                       â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent Servers  â”‚  â”‚  Git Worktree Server  â”‚  â”‚  Internal Tool Server   â”‚
â”‚  (Agent.exe)    â”‚  â”‚  (gtr wrapper)        â”‚  â”‚  (FS, DB, etc.)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tools:          â”‚  â”‚ Resources:            â”‚  â”‚ Tools:                  â”‚
â”‚  - code_edit    â”‚  â”‚  mcp://worktree/{id}  â”‚  â”‚  - fs_read              â”‚
â”‚  - search       â”‚  â”‚  mcp://worktree/diff  â”‚  â”‚  - fs_write             â”‚
â”‚  - run_command  â”‚  â”‚ Tools:                â”‚  â”‚  - db_query             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  - worktree_create    â”‚  â”‚  - commit_and_sync      â”‚
                     â”‚  - worktree_merge     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚  - worktree_rebase    â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸»è¦ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

#### 1. å˜ä¸€ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®Vueã‹ã‚‰ã¯ä¸€ã¤ã®MCPã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å©ãã ã‘ã§ã€èƒŒå¾Œã«ã„ã‚‹ã€Œãƒã‚°ä¿®æ­£ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€ã€Œãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚µãƒ¼ãƒãƒ¼ã€ã€ŒGitæ“ä½œãƒ„ãƒ¼ãƒ«ã€ã®ã™ã¹ã¦ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

#### 2. å‹•çš„ãªã‚µãƒ¼ãƒãƒ¼è¿½åŠ 
æ–°ã—ã„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆAgent.exeï¼‰ã‚’è¿½åŠ ã™ã‚‹éš›ã‚‚ã€ãã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒMCPã«å¯¾å¿œã—ã¦ã„ã‚Œã°ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å´ã¯è¨­å®šã‚’ä¸€è¡Œè¿½åŠ ã™ã‚‹ã ã‘ã§ã€ãã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã€Œç‰¹æŠ€ï¼ˆToolsï¼‰ã€ã‚’è‡ªå‹•èªè­˜ã§ãã¾ã™ã€‚

#### 3. ã€Œãƒªã‚½ãƒ¼ã‚¹ã€ã¨ã—ã¦ã®Git Worktreeã¨DB
MCPã®Resourcesã¨ã„ã†æ¦‚å¿µã‚’ä½¿ã†ã¨ã€ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ãŒéå¸¸ã«ã‚¹ãƒãƒ¼ãƒˆã«ãªã‚Šã¾ã™ã€‚

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å…±æœ‰** | å„Worktreeã®çŠ¶æ³ã‚„å…±é€šDBã®å†…å®¹ã‚’ `mcp://worktree/1/diff` ã®ã‚ˆã†ãªURIå½¢å¼ã§ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«æä¾› |
| **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–** | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯MCPã‚’é€šã˜ã¦ã€Œä»Šã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä»–ã®å ´æ‰€ã§ä½•ãŒèµ·ãã¦ã„ã‚‹ã‹ã€ã‚’ãƒªã‚½ãƒ¼ã‚¹ã¨ã—ã¦è³¼èª­ï¼ˆSubscribeï¼‰å¯èƒ½ |

#### 4. ã€Œãƒ„ãƒ¼ãƒ«ã€ã¨ã—ã¦ã®åŒæœŸãƒ»ãƒãƒ¼ã‚¸æ©Ÿèƒ½
ã€Œè‡ªä¸»çš„ãªç´°ã‹ã„ã‚³ãƒŸãƒƒãƒˆã¨ãƒãƒ¼ã‚¸ã€ã‚’ã€MCPã®Toolsã¨ã—ã¦å®šç¾©ã—ã¾ã™ã€‚

| ãƒ„ãƒ¼ãƒ«å | èª¬æ˜ |
|----------|------|
| `commit_and_sync` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒã‚³ãƒ¼ãƒ‰æ›¸ãæ›ãˆå¾Œã«å‘¼ã³å‡ºã—ã€‚æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ãƒ»ç«¶åˆãƒã‚§ãƒƒã‚¯å®Ÿè¡Œå¾Œã€Gitã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ |
| `auto_rebase` | è‡ªå‹•ãƒªãƒ™ãƒ¼ã‚¹å®Ÿè¡Œ |
| `check_conflicts` | ç«¶åˆã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ |

#### 5. ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“é€£æºï¼ˆOrchestrationï¼‰
MCPã‚’ä»‹ã™ã‚‹ã“ã¨ã§ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåŒå£«ãŒã€Œç›´æ¥è©±ã™ã€å¿…è¦ãŒãªããªã‚Šã¾ã™ã€‚

| æ©Ÿèƒ½ | èª¬æ˜ |
|------|------|
| **å½¹å‰²åˆ†æ‹…** | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã€Œæ©Ÿèƒ½ã‚’ä»˜ã‘ã¦ãƒã‚°ã‚‚ç›´ã—ã¦ã€ã¨æŠ•ã’ã‚‹ã¨ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆãƒ¡ã‚¤ãƒ³ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰ãŒMCPçµŒç”±ã§é©åˆ‡ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚¿ã‚¹ã‚¯ã‚’æŒ¯ã‚Šåˆ†ã‘ |
| **æƒ…å ±ã®é›†ç´„** | ã™ã¹ã¦ã®æ„æ€ç–é€šãŒMCPã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«å‰‡ã£ã¦ã„ã‚‹ãŸã‚ã€å®Œå…¨ãªãƒˆãƒ¬ãƒ¼ã‚¹ãƒ­ã‚°ãŒè‡ªå‹•ç”Ÿæˆ |

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ï¼ˆäºˆå®šï¼‰

```
packages/electron/src/
â”œâ”€â”€ mcp-hub/
â”‚   â”œâ”€â”€ index.ts                    # æ—¢å­˜: McpHub (MCP Host)
â”‚   â”œâ”€â”€ filesystem.ts               # æ—¢å­˜: FileSystemProvider
â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”œâ”€â”€ git-worktree.ts         # ğŸ†• GitWorktreeProvider (gtr wrapper)
â”‚   â”‚   â”œâ”€â”€ commit-sync.ts          # ğŸ†• CommitSyncProvider
â”‚   â”‚   â””â”€â”€ agent-orchestrator.ts   # ğŸ†• AgentOrchestrationProvider
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”œâ”€â”€ worktree-resource.ts    # ğŸ†• mcp://worktree/{id} Resource
â”‚   â”‚   â””â”€â”€ diff-resource.ts        # ğŸ†• mcp://worktree/{id}/diff Resource
â”‚   â””â”€â”€ types.ts                    # ğŸ†• MCP Hub Types
```

### ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è©³ç´°

#### A. GitWorktreeProvider (`git-worktree-runner` wrapper)
[CodeRabbit git-worktree-runner](https://github.com/coderabbitai/git-worktree-runner) ã‚’MCPãƒ„ãƒ¼ãƒ«ã¨ã—ã¦å…¬é–‹

| ãƒ„ãƒ¼ãƒ« | å¯¾å¿œã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|--------|--------------|------|
| `worktree_create` | `git gtr new <branch>` | Worktreeä½œæˆ |
| `worktree_list` | `git gtr list --porcelain` | Worktreeä¸€è¦§ |
| `worktree_remove` | `git gtr rm <branch>` | Worktreeå‰Šé™¤ |
| `worktree_run` | `git gtr run <branch> <cmd>` | Worktreeå†…ã§ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ |

**Resources:**
- `mcp://worktree/{branch}` - Worktree metadata
- `mcp://worktree/{branch}/diff` - Current diff
- `mcp://worktree/{branch}/status` - Git status

#### B. CommitSyncProvider
| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `commit_and_sync` | æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ â†’ ã‚³ãƒŸãƒƒãƒˆ â†’ Push â†’ ç«¶åˆãƒã‚§ãƒƒã‚¯ |
| `auto_rebase` | è‡ªå‹•ãƒªãƒ™ãƒ¼ã‚¹ |
| `check_conflicts` | ç«¶åˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ |

#### C. AgentOrchestrationProvider
| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `dispatch_task` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®ã‚¿ã‚¹ã‚¯æŒ¯ã‚Šåˆ†ã‘ |
| `get_agent_status` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçŠ¶æ…‹å–å¾— |
| `broadcast_context` | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå…±æœ‰ |

---

## ã‚¹ã‚³ãƒ¼ãƒ—ã‚¢ã‚¦ãƒˆï¼ˆMVPã§ã¯é™¤å¤–ï¼‰

ä»¥ä¸‹ã®æ©Ÿèƒ½ã¯MVPã§ã¯å®Ÿè£…ã—ãªã„ï¼š

| æ©Ÿèƒ½ | ç†ç”± |
|------|------|
| âŒ ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆåˆ¶å¾¡ | è¨­è¨ˆã‚’ç·´ã‚Šç›´ã™ |
| âŒ 3-way Merge UI | ä¸€æ—¦ä¸è¦ |
| âŒ ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸã®ç«¶åˆå‡¦ç† | è€ƒæ…®ã—ãªã„ |
| âŒ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œ | è€ƒæ…®ã—ãªã„ |
| âŒ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç† | è€ƒæ…®ã—ãªã„ |
| âŒ èªè¨¼ãƒ»èªå¯ | ä»Šã¯ä¸è¦ |
| âŒ ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ | ä»Šã¯ä¸è¦ |

---

## é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: Electronã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åŸºç›¤ âœ… å®Œäº†
1. âœ… pnpm workspace ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆmonorepoæ§‹æˆï¼‰
2. âœ… Vue.js + Vite + Electron çµ±åˆï¼ˆã‚¼ãƒ­ã‹ã‚‰æ§‹ç¯‰ï¼‰
3. âœ… åŸºæœ¬UIãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼‰
4. âœ… Shadcn UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå°å…¥
5. âœ… oRPC Electron Adapter çµ±åˆ
6. âœ… Biome å°å…¥ï¼ˆãƒªãƒ³ãƒ†ã‚£ãƒ³ã‚°ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰
7. âœ… ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰åŒæœŸï¼ˆOSãƒ†ãƒ¼ãƒé€£æºï¼‰

### Phase 2: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç®¡ç†æ©Ÿèƒ½ âœ… å®Œäº†
1. âœ… `child_process.spawn` ã«ã‚ˆã‚‹CLIãƒ„ãƒ¼ãƒ«èµ·å‹•
2. âœ… stdio ãƒ‘ãƒ¼ã‚¹ï¼ˆANSIå¯¾å¿œï¼‰â†’ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
3. âœ… ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèµ·å‹•ãƒ»åœæ­¢åˆ¶å¾¡
4. âœ… ãƒ¢ãƒ‡ãƒ«ãƒ›ãƒƒãƒˆã‚¹ãƒ¯ãƒƒãƒ—ï¼ˆAgent Handoff & Summarizationï¼‰
5. âœ… Scroll Restoration & UI Improvements

### Phase 3: MCPãƒ›ã‚¹ãƒˆ & Git Worktree ç®¡ç† ğŸ”„ é€²è¡Œä¸­

#### Phase 3.1: GitWorktreeProvider (`git-worktree-runner` wrapper)
1. âœ… `git-worktree-runner` ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆ`scripts/setup-gtr.sh` è¿½åŠ ï¼‰
2. âœ… `GitWorktreeProvider` å®Ÿè£…ï¼ˆ`gtr` ã‚³ãƒãƒ³ãƒ‰ã®MCPãƒ„ãƒ¼ãƒ«åŒ–ï¼‰
   - `worktree_create` - `git gtr new <branch>`
   - `worktree_list` - `git gtr list --porcelain`
   - `worktree_remove` - `git gtr rm <branch>`
   - `worktree_run` - `git gtr run <branch> <cmd>`
3. âœ… `McpHub` ã¸ã® `GitWorktreeProvider` ç™»éŒ²

#### Phase 3.2: Worktree Resources å®Ÿè£…
1. âœ… MCP Resources ã‚¹ã‚­ãƒ¼ãƒ å®šç¾©
   - `mcp://worktree/{branch}` - Worktree metadata
   - `mcp://worktree/{branch}/diff` - Current diff
   - `mcp://worktree/{branch}/status` - Git status
2. âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è³¼èª­ï¼ˆSubscribeï¼‰æ©Ÿèƒ½

#### Phase 3.3: CommitSyncProvider å®Ÿè£…
1. âœ… `commit_and_sync` ãƒ„ãƒ¼ãƒ«ï¼ˆæ§‹æ–‡ãƒã‚§ãƒƒã‚¯ â†’ ã‚³ãƒŸãƒƒãƒˆ â†’ ç«¶åˆãƒã‚§ãƒƒã‚¯ï¼‰
2. âœ… `auto_rebase` ãƒ„ãƒ¼ãƒ«
3. âœ… `check_conflicts` ãƒ„ãƒ¼ãƒ«ï¼ˆDependency Cruiseré€£æºï¼‰

#### Phase 3.4: AgentOrchestrationProvider å®Ÿè£… (ä¸€æ—¦ä¸è¦)
1. â¬œ `dispatch_task` ãƒ„ãƒ¼ãƒ«ï¼ˆã‚¿ã‚¹ã‚¯æŒ¯ã‚Šåˆ†ã‘ï¼‰
2. â¬œ `get_agent_status` ãƒ„ãƒ¼ãƒ«
3. â¬œ `broadcast_context` ãƒ„ãƒ¼ãƒ«ï¼ˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå…±æœ‰ï¼‰

#### Phase 3.5: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰çµ±åˆ
1. âœ… Worktreeç®¡ç†ç”»é¢ï¼ˆVueï¼‰
2. âœ… ãƒã‚¤ã‚¯ãƒ­ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ­ã‚°è¡¨ç¤º
3. â¬œ ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

### Phase 4: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º
1. â¬œ Cloudflare Workers API è¨­è¨ˆ
2. â¬œ D1 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
3. â¬œ Electron â†” Workers é€šä¿¡

### Phase 5: çµåˆãƒ»ãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆ
1. â¬œ Electron ã¨ Workers ã®çµåˆ
2. â¬œ ãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆ UIï¼ˆpackages/web/ï¼‰
3. â¬œ WebSocket ã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ

### Phase 6: é€šçŸ¥ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
1. â¬œ Discord/Slack Webhook é€£æº
2. â¬œ æ„æ€æ±ºå®šãƒãƒ£ãƒƒãƒˆUI
3. â¬œ ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆãƒ»ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼

---

## å®Ÿè£…é€²æ—

### âœ… å®Œäº†ã—ãŸå®Ÿè£…ï¼ˆ2025-12-29ç¾åœ¨ï¼‰

| ã‚«ãƒ†ã‚´ãƒª | å®Ÿè£…å†…å®¹ |
|----------|----------|
| **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ** | pnpm monorepo (packages/shared, electron, web) |
| **UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯** | Shadcn UI, Sidebar, Dark Mode, Conversion Card Component |
| **ãƒšãƒ¼ã‚¸ãƒ»ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°** | Dashboard, Inbox, Agents, Settings, Projects/Conversions |
| **IPCé€šä¿¡** | oRPC Electron Adapter, Type-safe communication |
| **CLIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ** | Gemini CLI, Claude Code, OpenAI Codex (stdioçµ±åˆ) |
| **ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåˆ¶å¾¡** | èµ·å‹•/åœæ­¢, ãƒ¢ãƒ‡ãƒ«åå–å¾—ãƒ»è¡¨ç¤º, HotSwapæ™‚ã®Loadingè¡¨ç¤º |
| **Agent Handoff** | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆæ™‚ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¦ç´„ã¨å¼•ãç¶™ãæ©Ÿèƒ½ |
| **UI UX** | ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã®ä¿æŒ (Scroll Restoration), ã‚µã‚¤ãƒ‰ãƒãƒ¼Actionãƒœã‚¿ãƒ³æ”¹å–„ |
| **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†** | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼, ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã®é–¢é€£ä»˜ã‘ |
| **MCP HubåŸºç›¤** | McpHub (MCP Client)ã€FileSystemProvider (å†…éƒ¨ãƒ„ãƒ¼ãƒ«) |
| **Git Worktree** | GitWorktreeProvider, Worktree Resources, CommitSyncProvider |
| **Orchestration** | AgentOrchestrationProvider (dispatch, status, broadcast) |
| **oRPC WebSocket** | WebSocket Server (3002), Web Client (ws://) |

### ğŸ¯ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆPhase 3: MCPãƒ›ã‚¹ãƒˆå®Ÿè£…ï¼‰

#### å„ªå…ˆåº¦: é«˜
1. **oRPC WebSocketå¯¾å¿œ**
   - âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã‚’WebSocketçµŒç”±ã«ç§»è¡Œ
   - âœ… ãƒ–ãƒ©ã‚¦ã‚¶ç‰ˆã§ã‚‚å‹•ä½œå¯èƒ½ã«

#### å„ªå…ˆåº¦: ä¸­
2. **ä¼šè©±å±¥æ­´ã®æ°¸ç¶šåŒ–**
   - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´ã®å®Œå…¨ãªã‚¹ãƒˆã‚¢ä¿å­˜
   - ã‚¢ãƒ—ãƒªå†èµ·å‹•å¾Œã®å±¥æ­´å¾©å…ƒ
